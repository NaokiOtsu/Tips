webpackJsonp([1],[function(t,e,i){t.exports=i(3)},,,function(t,e,i){!function(t){"use strict";function e(t){this.config=t,this.observer=new l,this.model={},this.view={},this.createModel()}var n=(i(2),i(4)),r=i(5),o=i(6),a=i(7),s=i(8),c=i(9),u=i(11),l=i(10);e.prototype.init=function(){this.createView(),this.view.remain_time.start()},e.prototype.createModel=function(){this.model.remain_time=new n(this.config.date),this.model.battle_power=new r(this.config.battle_power),this.model.item=new o(this.config.item)},e.prototype.createView=function(){this.view.remain_time=new a(this.model.remain_time),this.view.battle_power=new s(this.model.battle_power),this.view.item=new c(this.model.item),this.view.attack_btn=new u},t.App=e}(window)},function(t,e){!function(e){"use strict";function i(t){this.date=t}i.prototype.getGoalUnixTime=function(){var t=new Date(this.date).getTime();return this.getGoalUnixTime=function(){return t},t},i.prototype.getDate=function(){var t,e={},i=this.getGoalUnixTime(),n=i-Date.now();return e.day=Math.floor(n/864e5),t=n%864e5,e.hour=Math.floor(t/36e5),t%=36e5,e.minute=Math.floor(t/6e4),t%=6e4,e.second=Math.floor(t/1e3),e},t.exports=i}(window)},function(t,e){!function(e){"use strict";function i(t){this.battle_power=t,this.battle_power["default"]=t.current,this.battle_power.selected_num=0}i.prototype.getCurrentBattlePower=function(){return Number(this.battle_power.current)},i.prototype.isMax=function(){return this.battle_power.current===this.battle_power.max},i.prototype.recovery=function(t){this.battle_power.current+=t,e.app.observer.trigger("change:battle_power")},i.prototype.reset=function(){this.battle_power.current=this.battle_power["default"],this.battle_power.selected_num=0,e.app.observer.trigger("change:battle_power")},i.prototype.getSelectedNum=function(){return this.battle_power.selected_num},i.prototype.setSelectedNum=function(t){this.battle_power.selected_num=t},t.exports=i}(window)},function(t,e){!function(e){"use strict";function i(t){this.item=t,this.item.orange.default_num=t.orange.current_num,this.item.meat.default_num=t.meat.current_num}i.prototype.getCurrentNum=function(t){return Number(this.item[t].current_num)},i.prototype.useItem=function(t,i){this.item[t].current_num-=i,e.app.observer.trigger("change:item")},i.prototype.reset=function(){this.item.orange.current_num=this.item.orange.default_num,this.item.meat.current_num=this.item.meat.default_num,e.app.observer.trigger("change:item")},i.prototype.isUsedItem=function(t){return this.item[t].current_num!==this.item[t].default_num},t.exports=i}(window)},function(t,e,i){!function(e){"use strict";function n(t){this.$remain=r("#remain-time"),this.model=t,this.timer_id}var r=i(1);n.prototype.start=function(){this.timer_id=e.setInterval(function(){this.update()}.bind(this),100)},n.prototype.update=function(){var t=this.model.getDate();t.day>0?this.$remain.text(t.day+"日"+t.hour+"時間"+t.minute+"分"+t.second+"秒"):t.hour>0?this.$remain.text(t.hour+"時間"+t.minute+"分"+t.second+"秒"):t.minute>0?this.$remain.text(t.minute+"分"+t.second+"秒"):t.second>0?this.$remain.text(t.second+"秒"):(this.stop(),this.$remain.text("既に逃亡"))},n.prototype.stop=function(){e.clearInterval(this.timer_id)},t.exports=n}(window)},function(t,e,i){!function(e){"use strict";function n(t){this.$container=r("#bp-btn-list"),this.$children=this.$container.find("li"),this.model=t,this.render(),this.addEventListeners()}var r=i(1),o=i(2),a={active:"active",selected:"selected"};n.prototype.addEventListeners=function(){this.$children.on("click",this.onClick.bind(this)),o.defer(function(){e.app.observer.on("change:battle_power",this.render.bind(this))}.bind(this))},n.prototype.render=function(){var t=this.model.getCurrentBattlePower();this.$children.removeClass(),o.times(t,function(t){this.$children.eq(t).addClass(a.active)}.bind(this)),this.renderSelectButton()},n.prototype.renderSelectButton=function(){if(this.$children.removeClass(a.selected),this.model.getCurrentBattlePower()){var t=this.model.getSelectedNum();this.$children.eq(t).addClass(a.selected)}},n.prototype.onClick=function(){var t=r(event.currentTarget);t.hasClass(a.active)&&(this.model.setSelectedNum(t.index()),this.renderSelectButton(),e.app.view.attack_btn.render(t.index()))},t.exports=n}(window)},function(t,e,i){!function(e){"use strict";function n(t){this.$btnOrange=r("#btn-orange"),this.$btnMeat=r("#btn-meat"),this.$currentOrange=this.$btnOrange.find(".current-num"),this.$currentMeat=this.$btnMeat.find(".current-num"),this.model=t,this.render(),this.addEventListeners()}var r=i(1),o=i(2),a={active:"active",grayout:"grayout"};n.prototype.addEventListeners=function(){this.$btnOrange.on("click",this.onOrangeClick.bind(this)),this.$btnMeat.on("click",this.onMeatClick.bind(this)),o.defer(function(){e.app.observer.on("change:item",this.render.bind(this))}.bind(this))},n.prototype.render=function(){var t=this.model.getCurrentNum("orange"),e=this.model.getCurrentNum("meat");this.$btnOrange.removeClass(),this.$btnMeat.removeClass(),this.validateOrange()?this.$btnOrange.addClass(a.active):this.$btnOrange.addClass(a.grayout),this.validateMeat()?this.$btnMeat.addClass(a.active):this.$btnMeat.addClass(a.grayout),this.$currentOrange.text(t),this.$currentMeat.text(e)},n.prototype.validateOrange=function(){return 0!==this.model.getCurrentNum("orange")&&!e.app.model.battle_power.isMax()},n.prototype.validateMeat=function(){return 0!==this.model.getCurrentNum("meat")&&!(e.app.model.battle_power.getCurrentBattlePower()>0)},n.prototype.isReset=function(t){return!!this.model.isUsedItem(t)&&(!!e.app.model.battle_power.isMax()||0===this.model.getCurrentNum(t))},n.prototype.canOrangeClick=function(){return!(!this.model.isUsedItem("orange")&&e.app.model.battle_power.getCurrentBattlePower()>0)&&!(!this.model.isUsedItem("orange")&&0===this.model.getCurrentNum("orange"))},n.prototype.onOrangeClick=function(){this.canOrangeClick()&&(this.isReset("orange")?(e.app.model.battle_power.reset(),this.model.reset()):(e.app.model.battle_power.recovery(1),this.model.useItem("orange",1)))},n.prototype.canMeatClick=function(){return!(!this.model.isUsedItem("meat")&&e.app.model.battle_power.getCurrentBattlePower()>0)&&!(!this.model.isUsedItem("meat")&&0===this.model.getCurrentNum("meat"))},n.prototype.onMeatClick=function(){this.canMeatClick()&&(this.isReset("meat")?(e.app.model.battle_power.reset(),this.model.reset()):(e.app.model.battle_power.recovery(5),this.model.useItem("meat",1)))},t.exports=n}(window)},function(t,e,n){!function(e){"use strict";function r(){this.listeners={}}var o=n(2);r.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},r.prototype.off=function(t){var e=this.listeners[event],n=e.length;o.times(n,function(n){var r=e[n];r===t&&e.splice(i,1)})},r.prototype.trigger=function(t){var e=this.listeners[t],i=e.length;o.times(i,function(t){var i=e[t];"function"==typeof i&&i()})},t.exports=r}(window)},function(t,e,i){!function(e){"use strict";function n(){this.$attack_normal=r("#attack-normal"),this.$attack_normal_rate=this.$attack_normal.find(".rate-num"),this.$attack_special=r("#attack-special"),this.$attack_special_rate=this.$attack_special.find(".rate-num"),this.render()}var r=i(1),o=(i(2),{normal:0,special:6});n.prototype.render=function(t){var t=Number(t)||0;t<e.app.config.battle_power.max-1?(this.$attack_normal_rate.text(o.normal+t+e.app.config.rate.normal),this.$attack_special_rate.text(o.special+t+e.app.config.rate.normal)):(this.$attack_normal_rate.text(o.normal+e.app.config.rate.special),this.$attack_special_rate.text(o.special+e.app.config.rate.special))},t.exports=n}(window)}]);